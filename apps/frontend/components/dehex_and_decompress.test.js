import { dehex_and_decompress } from "./dehex_and_decompress";


test('dehexes and decompresses a string that is hexed and compressed', () => {
      const expected = '[{"name": "ARGUS", "hostName": "NDXARGUS", "pvPrefix": "IN:ARGUS:", "isScheduled": true, "groups": [], "seci": true}, {"name": "CHRONUS", "hostName": "NDXCHRONUS", "pvPrefix": "IN:CHRONUS:", "isScheduled": true, "groups": ["MUONS"], "seci": false}, {"name": "HIFI", "hostName": "NDXHIFI", "pvPrefix": "IN:HIFI:", "isScheduled": true, "groups": [], "seci": true}, {"name": "CHIPIR", "hostName": "NDXCHIPIR", "pvPrefix": "IN:CHIPIR:", "isScheduled": true, "groups": [], "seci": true}, {"name": "CRYOLAB_R80", "hostName": "NDXCRYOLAB_R80", "pvPrefix": "IN:CRYOLA7E:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "DCLAB", "hostName": "NDXDCLAB", "pvPrefix": "IN:DCLAB:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "LARMOR", "hostName": "NDXLARMOR", "pvPrefix": "IN:LARMOR:", "isScheduled": true, "groups": ["SANS"], "seci": false}, {"name": "ALF", "hostName": "NDXALF", "pvPrefix": "IN:ALF:", "isScheduled": true, "groups": ["EXCITATIONS"], "seci": false}, {"name": "DEMO", "hostName": "NDXDEMO", "pvPrefix": "IN:DEMO:", "isScheduled": false, "groups": [], "seci": false}, {"name": "IMAT", "hostName": "NDXIMAT", "pvPrefix": "IN:IMAT:", "isScheduled": true, "groups": ["ENGINEERING"], "seci": false}, {"name": "MUONFE", "hostName": "NDXMUONFE", "pvPrefix": "IN:MUONFE:", "isScheduled": false, "groups": ["MUONS"], "seci": false}, {"name": "ZOOM", "hostName": "NDXZOOM", "pvPrefix": "IN:ZOOM:", "isScheduled": true, "groups": ["SANS"], "seci": false}, {"name": "IRIS", "hostName": "NDXIRIS", "pvPrefix": "IN:IRIS:", "isScheduled": true, "groups": ["MOLSPEC"], "seci": false}, {"name": "IRIS_SETUP", "hostName": "NDXIRIS_SETUP", "pvPrefix": "IN:IRIS_S29:", "isScheduled": false, "groups": ["MOLSPEC"], "seci": false}, {"name": "ENGINX_SETUP", "hostName": "NDXENGINX_SETUP", "pvPrefix": "IN:ENGINX49:", "isScheduled": false, "groups": ["ENGINEERING"], "seci": false}, {"name": "HRPD_SETUP", "hostName": "NDXHRPD_SETUP", "pvPrefix": "IN:HRPD_S3D:", "isScheduled": false, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "HRPD", "hostName": "NDXHRPD", "pvPrefix": "IN:HRPD:", "isScheduled": true, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "POLARIS", "hostName": "NDXPOLARIS", "pvPrefix": "IN:POLARIS:", "isScheduled": true, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "VESUVIO", "hostName": "NDXVESUVIO", "pvPrefix": "IN:VESUVIO:", "isScheduled": true, "groups": ["MOLSPEC"], "seci": false}, {"name": "ENGINX", "hostName": "NDXENGINX", "pvPrefix": "IN:ENGINX:", "isScheduled": true, "groups": ["ENGINEERING", "CRYSTALLOGRAPHY"], "seci": false}, {"name": "MERLIN", "hostName": "NDXMERLIN", "pvPrefix": "IN:MERLIN:", "isScheduled": true, "groups": ["EXCITATIONS"], "seci": false}, {"name": "RIKENFE", "hostName": "NDXRIKENFE", "pvPrefix": "IN:RIKENFE:", "isScheduled": false, "groups": ["MUONS"], "seci": false}, {"name": "SELAB", "hostName": "NDXSELAB", "pvPrefix": "IN:SELAB:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "EMMA-A", "hostName": "NDXEMMA-A", "pvPrefix": "IN:EMMA-A:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "SANDALS", "hostName": "NDXSANDALS", "pvPrefix": "IN:SANDALS:", "isScheduled": true, "groups": ["DISORDERED"], "seci": false}, {"name": "GEM", "hostName": "NDXGEM", "pvPrefix": "IN:GEM:", "isScheduled": true, "groups": ["DISORDERED", "CRYSTALLOGRAPHY"], "seci": false}, {"name": "MAPS", "hostName": "NDXMAPS", "pvPrefix": "IN:MAPS:", "isScheduled": true, "groups": ["EXCITATIONS"], "seci": false}, {"name": "OSIRIS", "hostName": "NDXOSIRIS", "pvPrefix": "IN:OSIRIS:", "isScheduled": true, "groups": ["MOLSPEC"], "seci": false}, {"name": "INES", "hostName": "NDXINES", "pvPrefix": "IN:INES:", "isScheduled": true, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "SXD", "hostName": "NDXSXD", "pvPrefix": "IN:SXD:", "isScheduled": true, "groups": [], "seci": true}, {"name": "TOSCA", "hostName": "NDXTOSCA", "pvPrefix": "IN:TOSCA:", "isScheduled": true, "groups": ["MOLSPEC"], "seci": false}, {"name": "LOQ", "hostName": "NDXLOQ", "pvPrefix": "IN:LOQ:", "isScheduled": true, "groups": ["SANS"], "seci": false}, {"name": "LET", "hostName": "NDXLET", "pvPrefix": "IN:LET:", "isScheduled": true, "groups": ["EXCITATIONS"], "seci": false}, {"name": "MARI", "hostName": "NDXMARI", "pvPrefix": "IN:MARI:", "isScheduled": true, "groups": ["EXCITATIONS"], "seci": false}, {"name": "CRISP", "hostName": "NDXCRISP", "pvPrefix": "IN:CRISP:", "isScheduled": false, "groups": ["REFLECTOMETRY"], "seci": false}, {"name": "SOFTMAT", "hostName": "NDXSOFTMAT", "pvPrefix": "IN:SOFTMAT:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "SURF", "hostName": "NDXSURF", "pvPrefix": "IN:SURF:", "isScheduled": true, "groups": ["REFLECTOMETRY"], "seci": false}, {"name": "NIMROD", "hostName": "NDXNIMROD", "pvPrefix": "IN:NIMROD:", "isScheduled": true, "groups": ["DISORDERED"], "seci": false}, {"name": "DETMON", "hostName": "NDADETMON", "pvPrefix": "TE:NDADETF1:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "EMU", "hostName": "NDXEMU", "pvPrefix": "IN:EMU:", "isScheduled": true, "groups": ["MUONS"], "seci": false}, {"name": "INTER", "hostName": "NDXINTER", "pvPrefix": "IN:INTER:", "isScheduled": true, "groups": ["REFLECTOMETRY"], "seci": false}, {"name": "POLREF", "hostName": "NDXPOLREF", "pvPrefix": "IN:POLREF:", "isScheduled": true, "groups": ["REFLECTOMETRY"], "seci": false}, {"name": "SANS2D", "hostName": "NDXSANS2D", "pvPrefix": "IN:SANS2D:", "isScheduled": true, "groups": ["SANS"], "seci": false}, {"name": "MUSR", "hostName": "NDXMUSR", "pvPrefix": "IN:MUSR:", "isScheduled": true, "groups": ["MUONS"], "seci": false}, {"name": "WISH", "hostName": "NDXWISH", "pvPrefix": "IN:WISH:", "isScheduled": true, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "WISH_SETUP", "hostName": "NDXWISH_SETUP", "pvPrefix": "IN:WISH_S9C:", "isScheduled": false, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "PEARL", "hostName": "NDXPEARL", "pvPrefix": "IN:PEARL:", "isScheduled": true, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "PEARL_SETUP", "hostName": "NDXPEARL_SETUP", "pvPrefix": "IN:PEARL_5B:", "isScheduled": false, "groups": ["CRYSTALLOGRAPHY"], "seci": false}, {"name": "HIFI-CRYOMAG", "hostName": "NDXHIFI-CRYOMAG", "pvPrefix": "IN:HIFI-C11:", "isScheduled": false, "groups": ["MUONS"], "seci": false}, {"name": "OFFSPEC", "hostName": "NDXOFFSPEC", "pvPrefix": "IN:OFFSPEC:", "isScheduled": true, "groups": ["REFLECTOMETRY"], "seci": false}, {"name": "MOTION", "hostName": "NDXMOTION", "pvPrefix": "IN:MOTION:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "SCIDEMO", "hostName": "NDXSCIDEMO", "pvPrefix": "IN:SCIDEMO:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}, {"name": "IBEXGUITEST", "hostName": "NDXIBEXGUITEST", "pvPrefix": "IN:IBEXGUAD:", "isScheduled": false, "groups": ["SUPPORT"], "seci": false}]';
      const raw = "789cb5585d4fdb3014fd2b559e411a6cd346df4ce2a4d6e238d80e2b43a8425006121b88c23469da7fc7ce776f6f5a4798c79e53e59cdc5cdf0f9fff0b7e5ffe5a06d349406452a8606f12dc3eac9eb31acca2798b3ffec99f9637777f2dceb269894f2d71b75257b7cbeb97fbe5b5e19e9f5e9606fcf9f4f0f2b832bfcf2fccafd5f2eaaee6feef4d3ad170264586caf618205c332ed2012f44a6829e839bcbfbd5ba85198b19a2dfc040dcc26f7f69963389be73436cbcb225deac2bcf444a8e17f2eb074c7c9d850e4af60b453c94215d0fbb2af25c48bd3df05168e410232d0e2c94b847fd94482eb0cfd011c0414538259e22bbf28ea43176da2a149eb5347652a5f39069a2d9cea48f281758e86b1846dec04e81dfaac938d1886603034d0bbbbd7396b08c52c9b264fb3bdb5a1053c44147000f15e196720e95e687101c916f60206e614fa9c624c34a6c03c3c81bd8adb88a54e534dcadbd505417f980838e447c2cd4e19163fc5dcc94b9321fb4036960a8a23f391a72cecb99cca3414beb246c4625f9317233644ab8d2244d4522493e3bdb6d6ac0ce8011a79419e521371d07cfdc1e039cd48c7f33a75415a70c2b9a3d0698a9197f87a9cac0c1cc1dccd9d185746f322e3a9cca9465586d6d09585b4bc26f5793ec1bc54b7c8f013e6ac65b9157149f6a5a1ce897b8c7a986724ef60996222d0153a4243c5a300d292229766e7b0c0c43c538e543c49490119534daee23a158bbad51a06fd0b1daa3cf08c9b19834303c1f06f67b3a841a98033a0278a8088fb34046d139a48661ff37b0ff3aaee6585fab51989473a7aeb66de7d24285d8696c712059e2fe229e8a136cc1a950b8dd88134ff3664ab141bf46a12a751cf35dd39c9bfe8f1e3389edf316f6ab1f9a23834d722dbeb1591bdcadfa4a1aa734d482532d77a5b98835be6ff51898ee15e3b31314125b721b18ea1bd8e95b8c8843c6b814d889ef08e0a222bc36a2886a2e90e9887444df84a6d38a8b0fbc0e06053a1514e84850f8ba5e6399a6d8254b8b6f547d83fbce02b315987fe38b444d6cee1186f0edc396ce43b4ffb4c4e65c64084f7599170afb140dbc71fba1dc3e8443167c676a8628373050b6b0ffce6f9f3ab867af93889f853a0adf61cfce29912996980d0ef3d2e2efb06adbc70e0607b098a5c567c72566dc2d048bd9bebd7ae624c16e23008ddcd5ef87078e45d4218b451c9723173242770c9ca12bc67725e1c28e22d8616e09789c4bc267730fd9c035728f81e5ac623cba60c7749e144c53855e2eafb3b0d7942c71bc3f1bb473f10a73e40c02";
      const result = dehex_and_decompress(raw);
      expect(result).toBe(expected);

  })

